webpackJsonp([3],{"1F2k":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=a("cAgV"),r=a("a0qG"),s={directives:{waves:i.a},data:function(){return{recordTableHeight:"calc(100% - 320px)",ReferenceRecordVisible:!1,ReferenceRecordTable:[],listLoading:!0,address:"",blongedUser:"",queryResult:"",area:"",buildYear:"",expectedPrice:"",orientation:"",degreeDecoration:"",buildType:"",houseType:"",dissent:"",dissentOption:[{label:"请选择",key:""},{label:"偏高",key:"0"},{label:"偏低",key:"1"}],ownStatus:"",indoorStructure:"",queryTime:"",pickerOptions1:{shortcuts:[{text:"最近一周",onClick:function(e){var t=new Date,a=new Date;a.setTime(a.getTime()-6048e5),e.$emit("pick",[a,t])}},{text:"最近一个月",onClick:function(e){var t=new Date,a=new Date;a.setTime(a.getTime()-2592e6),e.$emit("pick",[a,t])}},{text:"最近三个月",onClick:function(e){var t=new Date,a=new Date;a.setTime(a.getTime()-7776e6),e.$emit("pick",[a,t])}}]},tableData5:[],currentPage:1,pageSize:10,totalItems:0,downloadLoading:!1}},components:{},mounted:function(){this.initRecordData(),this.getRecordList(),document.getElementById("loupanFocus").focus()},methods:{seeReferenceCase:function(e){var t=this;t.ReferenceRecordTable=[];var a={recordId:e};this.$post("/record/getReferenceRecord",a).then(function(e){console.log(87878,e);var a=[];e.data.forEach(function(e,i){var r={};r.rsDz=""!=e.rsDz&&null!=e.rsDz?e.rsDz+"元":"",r.gjsd=""!=e.gjsd&&null!=e.gjsd?t.formateDatetime(e.gjsd):"",r.build=e.build,r.lc=e.lc,r.pm=e.pm,r.cx=e.cx,r.rjMj=""!=e.rjMj&&null!=e.rjMj?e.rjMj+"平方米":"",r.zx=e.zx,r.wq=e.wq,r.completedate=""!=e.completedate&&null!=e.completedate?e.completedate+"年":"",r.jg=e.jg,a.push(r)}),t.ReferenceRecordTable=a}),this.ReferenceRecordVisible=!0},initRecordData:function(){this.address="",this.area="",this.blongedUser="",this.buildType="",this.buildYear="",this.degreeDecoration="",this.expectedPrice="",this.dissent="",this.houseType="",this.indoorStructure="",this.orientation="",this.ownStatus="",this.queryResult="",this.queryTime=""},enterSearchRecordList:function(e){13==e.keyCode&&this.getRecordList()},getRecordList:function(){var e=this;this.listLoading=!0;var t={address:this.address,area:this.area,back1:this.blongedUser,buildType:this.buildType,buildYear:this.buildYear,currentPage:this.currentPage,degreeDecoration:this.degreeDecoration,expectedPrice:this.expectedPrice,dissent:this.dissent,houseType:this.houseType,indoorStructure:this.indoorStructure,orientation:this.orientation,ownStatus:this.ownStatus,pageSize:this.pageSize,queryResult:this.queryResult,startQueryDate:""!=this.queryTime&&null!=this.queryTime?Object(r.a)(this.queryTime[0],"yyyy-MM-dd hh:mm:ss"):"",endQueryDate:""!=this.queryTime&&null!=this.queryTime?Object(r.a)(this.queryTime[1],"yyyy-MM-dd hh:mm:ss"):""};this.$post("/record/getRecordByPage",t).then(function(t){console.log(12345,t),e.totalItems=t.totalNum;var a=[];t.items.forEach(function(t,i){var r={};r.id=t.id,r.index=i+1,r.detailAddress=t.detailAddress,r.back1=t.back1,r.queryResult=""!=t.queryResult&&null!=t.queryResult?(parseFloat(t.queryResult)*parseFloat(t.area)/1e4).toFixed(0)+"万元":"",r.area=""!=t.area&&null!=t.area?t.area+"平方米":"",r.buildYear=""!=t.buildYear&&null!=t.buildYear?t.buildYear+"年":"",r.expectedPrice=""!=t.expectedPrice&&null!=t.expectedPrice?t.expectedPrice+"万元":"",r.orientation=t.orientation,r.degreeDecoration=t.degreeDecoration,r.buildType=t.buildType,r.houseType=t.houseType,"0"==t.dissent?r.dissent="偏高":"1"==t.dissent&&(r.dissent="偏低"),r.ownStatus=t.ownStatus,r.indoorStructure=t.indoorStructure,r.queryDate=""!=t.queryDate&&null!=t.queryDate?e.formateDatetime(t.queryDate):"",r.dissentReason=t.dissentReason,r.floor=t.floor,a.push(r)}),e.tableData5=a,setTimeout(function(){e.listLoading=!1},1500)})},formateDatetime:function(e){return Object(r.a)(new Date(e),"yyyy-MM-dd hh:mm:ss")},handleSizeChange:function(e){console.log("每页 "+e+" 条"),this.pageSize=e,this.getRecordList()},handleCurrentChange:function(e){console.log("当前页: "+e),this.currentPage=e,this.getRecordList()},changeDissentHandler:function(){this.getRecordList()},tableRowClassName:function(e){e.row,e.rowIndex;return""},handleDownload:function(){var e=this;this.downloadLoading=!0,a.e(7).then(a.bind(null,"zWO4")).then(function(t){var a=e.formatJson(["index","detailAddress","back1","queryResult","area","expectedPrice","orientation","degreeDecoration","buildType","houseType","dissent","ownStatus","indoorStructure","queryDate","dissentReason","floor"],e.tableData5);t.export_json_to_excel({header:["序号","小区/地址","所属用户","查询结果","建筑面积","预期结果","朝向","装修程度","景观","户型","结果异议","楼栋","房号","查询时间","异议理由","楼层"],data:a,filename:"记录查询列表"}),e.downloadLoading=!1})},formatJson:function(e,t){return t.map(function(t){return e.map(function(e){return"timestamp"===e?parseTime(t[e]):t[e]})})}}},l={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"record-list-container"},[a("div",{staticClass:"container-record"},[a("div",{staticClass:"record-panel"},[a("div",{staticClass:"filter-container-record"},[a("div",[a("div",{staticClass:"filter-item-record"},[a("span",{staticClass:"filter-item-label"},[e._v("小区/地址")]),e._v(" "),a("el-input",{staticClass:"filter-item-content",attrs:{placeholder:"小区/地址",id:"loupanFocus"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.enterSearchRecordList(t)}},model:{value:e.address,callback:function(t){e.address=t},expression:"address"}})],1),e._v(" "),a("div",{staticClass:"filter-item-record"},[e._m(0),e._v(" "),a("el-input",{staticClass:"filter-item-content",attrs:{placeholder:"楼栋"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.enterSearchRecordList(t)}},model:{value:e.ownStatus,callback:function(t){e.ownStatus=t},expression:"ownStatus"}})],1),e._v(" "),a("div",{staticClass:"filter-item-record"},[e._m(1),e._v(" "),a("el-input",{staticClass:"filter-item-content",attrs:{placeholder:"房号"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.enterSearchRecordList(t)}},model:{value:e.indoorStructure,callback:function(t){e.indoorStructure=t},expression:"indoorStructure"}})],1),e._v(" "),a("div",{staticClass:"filter-item-record"},[a("span",{staticClass:"filter-item-label"},[e._v("所属用户")]),e._v(" "),a("el-input",{staticClass:"filter-item-content",attrs:{placeholder:"所属用户"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.enterSearchRecordList(t)}},model:{value:e.blongedUser,callback:function(t){e.blongedUser=t},expression:"blongedUser"}})],1),e._v(" "),a("div",{staticClass:"filter-item-record"},[a("span",{staticClass:"filter-item-label"},[e._v("建筑面积")]),e._v(" "),a("el-input",{staticClass:"filter-item-content",attrs:{placeholder:"建筑面积",type:"number"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.enterSearchRecordList(t)}},model:{value:e.area,callback:function(t){e.area=t},expression:"area"}})],1)]),e._v(" "),a("div",[a("div",{staticClass:"filter-item-record"},[e._m(2),e._v(" "),a("el-input",{staticClass:"filter-item-content",attrs:{placeholder:"朝向"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.enterSearchRecordList(t)}},model:{value:e.orientation,callback:function(t){e.orientation=t},expression:"orientation"}})],1),e._v(" "),a("div",{staticClass:"filter-item-record"},[a("span",{staticClass:"filter-item-label"},[e._v("装修程度")]),e._v(" "),a("el-input",{staticClass:"filter-item-content",attrs:{placeholder:"装修程度"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.enterSearchRecordList(t)}},model:{value:e.degreeDecoration,callback:function(t){e.degreeDecoration=t},expression:"degreeDecoration"}})],1),e._v(" "),a("div",{staticClass:"filter-item-record"},[e._m(3),e._v(" "),a("el-input",{staticClass:"filter-item-content",attrs:{placeholder:"景观"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.enterSearchRecordList(t)}},model:{value:e.buildType,callback:function(t){e.buildType=t},expression:"buildType"}})],1),e._v(" "),a("div",{staticClass:"filter-item-record"},[e._m(4),e._v(" "),a("el-input",{staticClass:"filter-item-content",attrs:{placeholder:"户型"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.enterSearchRecordList(t)}},model:{value:e.houseType,callback:function(t){e.houseType=t},expression:"houseType"}})],1),e._v(" "),a("div",{staticClass:"filter-item-record"},[a("span",{staticClass:"filter-item-label"},[e._v("结果异议")]),e._v(" "),a("el-select",{staticClass:"filter-item-content",attrs:{placeholder:"结果异议",clearable:""},on:{change:e.changeDissentHandler},model:{value:e.dissent,callback:function(t){e.dissent=t},expression:"dissent"}},e._l(e.dissentOption,function(e){return a("el-option",{key:e.key,attrs:{label:e.label,value:e.key}})}),1)],1)]),e._v(" "),a("div",[a("div",{staticClass:"filter-item-record",staticStyle:{"margin-right":"20px"}},[a("span",{staticClass:"demonstration"},[e._v("查询时间")]),e._v(" "),a("el-date-picker",{attrs:{type:"datetimerange","picker-options":e.pickerOptions1,"range-separator":"至","start-placeholder":"开始时间","end-placeholder":"结束时间",align:"right"},model:{value:e.queryTime,callback:function(t){e.queryTime=t},expression:"queryTime"}})],1),e._v(" "),a("el-button",{directives:[{name:"waves",rawName:"v-waves"}],staticClass:"filter-item",attrs:{type:"primary",icon:"el-icon-search"},on:{click:e.getRecordList}},[e._v("搜索\n          ")]),e._v(" "),a("el-button",{directives:[{name:"waves",rawName:"v-waves"}],staticClass:"filter-item",attrs:{loading:e.downloadLoading,type:"primary",icon:"el-icon-download"},on:{click:e.handleDownload}},[e._v("导出\n          ")])],1)]),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],staticStyle:{width:"100%"},attrs:{data:e.tableData5,fit:"",height:e.recordTableHeight,"highlight-current-row":"","header-cell-style":{backgroundColor:"#EFF2F7"},"row-class-name":e.tableRowClassName}},[a("el-table-column",{attrs:{type:"expand"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-form",{staticClass:"demo-table-expand",attrs:{"label-position":"left",inline:"","label-width":"100px"}},[a("el-form-item",{attrs:{label:"小区/地址"}},[a("span",[e._v(e._s(t.row.detailAddress))])]),e._v(" "),a("el-form-item",{attrs:{label:"所属用户"}},[a("span",[e._v(e._s(t.row.back1))])]),e._v(" "),a("el-form-item",{attrs:{label:"查询结果"}},[a("span",[e._v(e._s(t.row.queryResult))])]),e._v(" "),a("el-form-item",{attrs:{label:"建筑面积"}},[a("span",[e._v(e._s(t.row.area))])]),e._v(" "),a("el-form-item",{attrs:{label:"预期结果"}},[a("span",[e._v(e._s(t.row.expectedPrice))])]),e._v(" "),a("el-form-item",{attrs:{label:"朝向"}},[a("span",[e._v(e._s(t.row.orientation))])]),e._v(" "),a("el-form-item",{attrs:{label:"装修程度"}},[a("span",[e._v(e._s(t.row.degreeDecoration))])]),e._v(" "),a("el-form-item",{attrs:{label:"景观"}},[a("span",[e._v(e._s(t.row.buildType))])]),e._v(" "),a("el-form-item",{attrs:{label:"户型"}},[a("span",[e._v(e._s(t.row.houseType))])]),e._v(" "),a("el-form-item",{attrs:{label:"结果异议"}},[a("span",[e._v(e._s(t.row.dissent))])]),e._v(" "),a("el-form-item",{attrs:{label:"楼栋"}},[a("span",[e._v(e._s(t.row.ownStatus))])]),e._v(" "),a("el-form-item",{attrs:{label:"房号"}},[a("span",[e._v(e._s(t.row.indoorStructure))])]),e._v(" "),a("el-form-item",{attrs:{label:"查询时间"}},[a("span",[e._v(e._s(t.row.queryDate))])]),e._v(" "),a("el-form-item",{attrs:{label:"异议理由"}},[a("span",[e._v(e._s(t.row.dissentReason))])])],1)]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"小区/地址",align:"center",prop:"detailAddress"}}),e._v(" "),a("el-table-column",{attrs:{label:"建筑面积",align:"center",prop:"area"}}),e._v(" "),a("el-table-column",{attrs:{label:"查询时间",align:"center",prop:"queryDate"}}),e._v(" "),a("el-table-column",{attrs:{label:"所属用户",align:"center",prop:"back1"}}),e._v(" "),a("el-table-column",{attrs:{label:"查询结果",align:"center",prop:"queryResult"}})],1),e._v(" "),a("div",{staticClass:"block",staticStyle:{"margin-top":"20px"}},[a("el-pagination",{attrs:{background:"","current-page":e.currentPage,"page-sizes":[10,20,50,100],"page-size":e.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.totalItems},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],1)]),e._v(" "),a("el-dialog",{attrs:{title:"估价参考案例查看",visible:e.ReferenceRecordVisible,width:"80%",modal:"",center:""},on:{"update:visible":function(t){e.ReferenceRecordVisible=t}}},[a("el-table",{staticStyle:{width:"100%"},attrs:{"header-cell-style":{backgroundColor:"#EFF2F7"},data:e.ReferenceRecordTable}},[a("el-table-column",{attrs:{prop:"rsDz",label:"案例价格"}}),e._v(" "),a("el-table-column",{attrs:{prop:"gjsd",label:"案例时间"}}),e._v(" "),a("el-table-column",{attrs:{prop:"build",label:"案例地址"}}),e._v(" "),a("el-table-column",{attrs:{prop:"lc",label:"楼层"}}),e._v(" "),a("el-table-column",{attrs:{prop:"pm",label:"户型"}}),e._v(" "),a("el-table-column",{attrs:{prop:"cx",label:"朝向"}}),e._v(" "),a("el-table-column",{attrs:{prop:"rjMj",label:"建筑面积"}}),e._v(" "),a("el-table-column",{attrs:{prop:"zx",label:"装修程度"}}),e._v(" "),a("el-table-column",{attrs:{prop:"wq",label:"外墙装饰"}}),e._v(" "),a("el-table-column",{attrs:{prop:"completedate",label:"建筑年代"}}),e._v(" "),a("el-table-column",{attrs:{prop:"jg",label:"建筑结构"}})],1)],1)],1)},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("span",{staticClass:"filter-item-label"},[this._v("楼"),t("span",{staticStyle:{visibility:"hidden"}},[this._v("楼栋")]),this._v("栋")])},function(){var e=this.$createElement,t=this._self._c||e;return t("span",{staticClass:"filter-item-label"},[this._v("房"),t("span",{staticStyle:{visibility:"hidden"}},[this._v("楼栋")]),this._v("号")])},function(){var e=this.$createElement,t=this._self._c||e;return t("span",{staticClass:"filter-item-label"},[this._v("朝"),t("span",{staticStyle:{visibility:"hidden"}},[this._v("楼/栋")]),this._v("向")])},function(){var e=this.$createElement,t=this._self._c||e;return t("span",{staticClass:"filter-item-label"},[this._v("景"),t("span",{staticStyle:{visibility:"hidden"}},[this._v("楼栋")]),this._v("观")])},function(){var e=this.$createElement,t=this._self._c||e;return t("span",{staticClass:"filter-item-label"},[this._v("户"),t("span",{staticStyle:{visibility:"hidden"}},[this._v("楼栋")]),this._v("型")])}]};var n=a("C7Lr")(s,l,!1,function(e){a("O0/D")},null,null);t.default=n.exports},"O0/D":function(e,t){},a0qG:function(e,t,a){"use strict";function i(e,t){/(y+)/.test(t)&&(t=t.replace(RegExp.$1,(e.getFullYear()+"").substr(4-RegExp.$1.length)));var a={"M+":e.getMonth()+1,"d+":e.getDate(),"h+":e.getHours(),"m+":e.getMinutes(),"s+":e.getSeconds()};for(var i in a)if(new RegExp("("+i+")").test(t)){var r=a[i]+"";t=t.replace(RegExp.$1,1===RegExp.$1.length?r:s(r))}function s(e){return("00"+e).substr(e.length)}return t}t.a=i},cAgV:function(e,t,a){"use strict";var i=a("aA9S"),r=a.n(i),s=(a("ctMr"),{bind:function(e,t){e.addEventListener("click",function(a){var i=r()({},t.value),s=r()({ele:e,type:"hit",color:"rgba(0, 0, 0, 0.15)"},i),l=s.ele;if(l){l.style.position="relative",l.style.overflow="hidden";var n=l.getBoundingClientRect(),o=l.querySelector(".waves-ripple");switch(o?o.className="waves-ripple":((o=document.createElement("span")).className="waves-ripple",o.style.height=o.style.width=Math.max(n.width,n.height)+"px",l.appendChild(o)),s.type){case"center":o.style.top=n.height/2-o.offsetHeight/2+"px",o.style.left=n.width/2-o.offsetWidth/2+"px";break;default:o.style.top=(a.pageY-n.top-o.offsetHeight/2-document.documentElement.scrollTop||document.body.scrollTop)+"px",o.style.left=(a.pageX-n.left-o.offsetWidth/2-document.documentElement.scrollLeft||document.body.scrollLeft)+"px"}return o.style.backgroundColor=s.color,o.className="waves-ripple z-active",!1}},!1)}}),l=function(e){e.directive("waves",s)};window.Vue&&(window.waves=s,Vue.use(l)),s.install=l;t.a=s},ctMr:function(e,t){}});